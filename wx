#include"wx/wxprec.h"
#ifndef WX_PRECOMP
#include "wx/wx.h"
#endif 
class MyApp : public wxApp {
public:
    virtual bool OnInit();
};

class MyFrame :public wxFrame {
public:
    MyFrame(const wxString& title);
    void OnQuit(wxCommandEvent& event);
    void OnAbout(wxCommandEvent& event);
    void OnSize(wxSizeEvent& event);
    void OnButtonOK(wxCommandEvent& event);
private:
    DECLARE_EVENT_TABLE()
};
wxIMPLEMENT_APP(MyApp);


bool MyApp::OnInit() {
    MyFrame* frame = new MyFrame("我的第一个wxwidggets程序");
    frame->SetSize(500, 500);
    frame->Show(true);
    return true;
}
BEGIN_EVENT_TABLE(MyFrame, wxFrame)
EVT_MENU(wxID_ABOUT, MyFrame::OnAbout)
EVT_MENU(wxID_EXIT, MyFrame::OnQuit)
END_EVENT_TABLE()

#include "wx/notebook.h"
MyFrame::MyFrame(const wxString& title) : wxFrame(NULL, wxID_ANY, title)
{
    wxPanel* panel = new wxPanel(this);

    wxStaticText* text = new wxStaticText(panel, wxID_ANY, "Hello World!", wxPoint(50, 20));

    wxButton* button1 = new wxButton(panel, wxID_ANY, "OK", wxPoint(50, 50), wxSize(60, 40));

    wxButton* button2 = new wxButton;
    button2->Create(panel, wxID_OK, wxT("开始"), wxPoint(200, 100));


    wxMenu* fileMenu = new wxMenu;
    wxMenu* helpMenu = new wxMenu;
    helpMenu->Append(wxID_ABOUT, wxT("& About...\tF1"), wxT("Showabout dialog"));
    fileMenu->Append(wxID_EXIT, wxT("& Exit\tAlt−X"), wxT("Quit this program"));

    wxMenuBar* menuBar = new wxMenuBar();
    menuBar->Append(fileMenu, wxT("& File"));
    menuBar->Append(helpMenu, wxT(" & Help"));
    SetMenuBar(menuBar);
    CreateStatusBar(2);
    SetStatusText(wxT("Welcome to wxWidgets!"));

    button1->Bind(wxEVT_BUTTON, &MyFrame::OnQuit, this);
    button2->Bind(wxEVT_BUTTON, &MyFrame::OnQuit, this);


}
void MyFrame::OnAbout(wxCommandEvent& event) {
    wxString msg;
    msg.Printf(wxT("Hello andwelcome to % s"), wxVERSION_STRING);
    wxMessageBox(msg, wxT("About Minimal"), wxOK | wxICON_INFORMATION, this);
}

void MyFrame::OnQuit(wxCommandEvent& event) {
    Close();
}
